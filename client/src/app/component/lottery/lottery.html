<div class="lottery-page" dir="rtl">
  <h2>××•×¦×¨×™× / ×¤×¨×¡×™×</h2>

  @if (isLoading) {
    <p class="muted">×˜×•×¢×Ÿ...</p>
  } @else {

    <div class="grid">
      @for (prize of prizes; track prize.id) {
        <div class="card" [class.raffled]="prize.isRaffleDone">
          <img class="img" [src]="'http://localhost:4200/img/' + prize.imagePath" alt="×ª××•× ×”" />

          <div class="content">
            <div class="title">{{ prize.name }}</div>
            <div class="desc muted">{{ prize.description }}</div>

            @if (prize.isRaffleDone) {
              <div class="badge success">ğŸ† ×”×•×’×¨×œ</div>
              <div class="winner">×”×–×•×›×”: <strong>{{ getWinnerLabel(prize) }}</strong></div>
              <button class="btn buy" disabled>×”××•×¦×¨ × ×¢×•×œ ×œ×¨×›×™×©×”</button>
            } @else {
              <div class="badge pending">â³ ×¤×ª×•×— ×œ×¨×›×™×©×”</div>
              <button class="btn buy" (click)="buyTicket(prize)">×§× ×” ×›×¨×˜×™×¡</button>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
